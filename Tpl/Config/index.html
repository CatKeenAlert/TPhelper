<!DOCTYPE html>
<html>
<head>
    <title></title>
    <script src="http://code.jquery.com/jquery-1.7.2.min.js"></script>
    <load file="__ROOT__/asset/js/checkfield.js" />
<style type="text/css">
    .check_pass{background: #f4ffcb;}/*用于标识字段检查通过*/
    .check_fail{background: #ff0000;}/*标识字段检查失败*/
    .conf{}/*用于标识从app读取到的配置项*/
    .dehidden{display: inline-block;}
</style>
</head>
<body>
<!--ID定义规范，input，select的ID和name应与配置项目相同，label的class应与配置项相同
二维配置使用fieldset进行包围，input不设id,fieldset的id与配置项相同，input的class设为与配置项相同，填充的input用div包围，div的class与配置项相同
-->
<script type="text/javascript">
    $(function(){
        window.updateid=function(obj){
            var id = obj.name.replace(/\[.*\]/, "_"+obj.value);
            if ($("#"+id).length>0 && $(obj).next().get(0).id!=id) {
                $(obj).removeClass('check_pass');
                $(obj).addClass('check_fail');
                mysubmit();
                return
            }else{
                $(obj).removeClass('check_fail');
                $(obj).addClass('check_pass');
            }
            if (obj.value != "" ) {
                $(obj).next().get(0).id=id;
                $(obj).next().trigger("blur");
            }
        };
        window.check=function(obj){
            var id=obj.id,value= $.trim(obj.value);//取出两边空白
            if (obj.id == "") {
                id ="array_key";
            }
            obj.value=value;//更新去除两边空白后的value
            obj=$(obj);
            if (value == '') {
                obj.removeClass('check_pass check_fail');
                mysubmit();//改为空值时候，检查submit
                return ;
            }
            if (!checkFiled(id,value)) {
                obj.removeClass('check_pass');
                obj.addClass('check_fail');
            }else{
                obj.removeClass('check_fail');
                obj.addClass('check_pass');
            }
            mysubmit();//修改完value后检查sbumit
        };
        window.addRow=function(obj){
            var row=$("#"+obj.className+" > div").last().html();
            row = row.replace(/(check_fail|check_pass|value="[^"]*"|id="[^"]*"|disabled="[^"]*")*/g, '');//新增一行时移除复制源上的动态class和vaule
            var n=parseInt(/\d+/.exec(row).toString());
            row="<div class='"+obj.className+"'>"+row.replace(/\d+/g,1+n)+"</div>";
            $("#" + obj.className).append(row);
        };
        window.getConfig=function(){
            $.post("__ROOT__/index.php/Config/sendConfig",{file:"/home/zhuyajie/Dropbox/tpbuilder/test.php"},function(data,status){
                if (status == 'success') {
                    var query = '';
                    var conflist = $("#conf"),custom=$("#customconf");
                    //响应数据判断
                    if (data == '') {
                        conflist.append("您的应用全部采用默认配置");
                        return
                    }
                    else if ($.type(data).toLowerCase() == "string") {
                        alert("ajax请求返回的不是json数据");
                        return
                    }
                    else if (data.error) {
                        alert(data.error);
                        return
                    }
                    $.each(data,function(k,val){
                        var input=$("#"+k);
                        var label=$("."+k);
                        var br=$("#"+k+"+br");
                        val=true===val?'true':(false===val?'false':val);//把布尔值转换为字符串
                        //input.get(0)存在表示选择器从页面中能找到表单字段
                        if (input.get(0)) {
                            if (custom.has("#" + k).length === 0) {
                                //如果节点名为fieldset表示这可能是数组配置
                                if (input.get(0).nodeName.toLowerCase() == "fieldset") {
                                        query=query+','+k;
                                    if (/SESSION_OPTIONS|otherPatern/.test(k)) {
                                        //类似SESSION_OPTIONS的配置，可以用|添加到上面的正则多选条件中
                                        $.each(val, function (kk, vv) {
                                            $("input[name='" + RegExp.lastMatch + "[" + kk + "]']").val(vv);
                                        });
                                        input.addClass('conf');
                                        return
                                    }
                                    var text = input.children('legend').text();
                                    input.remove();
                                    if ($.type(val).toLowerCase() == "string") {
                                        conflist.append("<label for=\"" + k + "\" class=\"" + k + "\">" + text + "</label><input type=\"text\"  name=\"" + k + "\" id=\"" + k + "\" value=\"" + val + "\" onblur='check(this)'><br />");
                                        return
                                    }
                                    conflist.append(makerow(val, k, text));
                                    return
                                }
                                input.val(val);
                                input.addClass('conf');
                                label.addClass('conf');
                                br.addClass('conf');
                            }
                        //input.get(0)等于null表示选择器从页面中找不到表单字段，即配置项为自定义配置，需为其生成表单字段
                        } else if(input.get(0)==null){
                            if ($.type(val).toLowerCase() == "string") {
                                custom.append("<label for=\""+k+"\" class=\""+k+"\">"+k+"</label><input type=\"text\"  name=\""+k+"\" id=\""+k+"\" value=\""+val+"\"><br />");
                            } else {
                                query = query + ',' + k;
                                custom.append(makerow(val,k,k))
                            }
                            custom.css("display", "block");
                        }
                    });
                    $(".conf").detach().appendTo(conflist);
                } else {
                    alert(status);
                    $("input:submit").attr('disabled', 'on');
                }
                var configform = $("#setconfig");
                var actionurl= configform.attr("action");
                configform.attr("action", encodeURI(actionurl + "?filter=" + query));
            });
        };
        window.makerow = function (val, k,text) {
            var i = 1, rows = '';
            var head = "<fieldset id='" + k + "'><legend>"+text+"</legend><span>KEY   </span><span>VALUE</span><input type='button' value='新增' class='" + k + "' onclick='addRow(this)'><br />";
            $.each(val, function (key, v) {
                var row = "<div class='" + k + "'><input type='text' name='" + k + "[k" + i + "]' class='" + k + "' onblur='check(this);updateid(this)' onkeyup='updateid(this)' value='" + key + "'><input type='text' name='" + k + "[v" + i + "]' class='" + k + "' onblur='check(this)' value='" + v + "'><br /></div>";
                rows = rows + row;
                i++;
            });
            var foot = "</fieldset>";
            return head + rows + foot;
        };
        var sbumitbtn = $("input:submit");
        window.mysubmit = function () {
            if ($(".check_fail").get(0) != null) {
                sbumitbtn.attr('disabled', 'on');
            } else {
                sbumitbtn.removeAttr('disabled');
            }
        };
        window.getXML=function(){
            $.post("__ROOT__/index.php/Config/sendConfig",{file:"/home/zhuyajie/Dropbox/tpbuilder/Conf/config.xml",accept:'xml'},function(data,status){
                if (status == 'success') {
                    var xmldoc=$.parseXML(data);
                    var item = $(xmldoc).find("#URL_ROUTE_RULES");
                    console.log(item);
                }
            });
        };
    });
</script>
<input type="button" value="XML request" onclick="getXML()">
<input type="button" value="请求" onclick="getConfig()" style="display: block;">
<form id="setconfig"  action="__URL__/build" METHOD="POST" ENCTYPE="application/x-www-form-urlencoded">
<fieldset id="customconf" style="display: none;">
    <legend>自定义配置</legend>
<!--此div是自定义配置容器，不要删除-->
</fieldset>
<div id="conf">

</div>
<!--APP配置-->
<label for="DEFAULT_CHARSET" class="DEFAULT_CHARSET">默认输出编码</label><select name="DEFAULT_CHARSET" id="DEFAULT_CHARSET">
    <option value="">utf-8</option>
    <option value="gb2312">gb2312</option>
    <option value="gbk">gbk</option>
    <option value="big5">big5</option>
    <option value="latin1">latin1</option>
</select><br>
<label for="DEFAULT_TIMEZONE" class="DEFAULT_TIMEZONE">默认时区</label><input type="text"  name="DEFAULT_TIMEZONE" id="DEFAULT_TIMEZONE" onblur="check(this)"><br />
<label for="DEFAULT_AJAX_RETURN" class="DEFAULT_AJAX_RETURN">默认ajax返回格式</label><select name="DEFAULT_AJAX_RETURN" id="DEFAULT_AJAX_RETURN">
    <option value="">JSON</option>
    <option value="jsonp">jsonp</option>
    <option value="xml">XML</option>
    <option value="eval">EVAL</option>
</select><br>
<label for="DEFAULT_JSONP_HANDLER" class="DEFAULT_JSONP_HANDLER">默认jsonp处理方法</label><input type="text" name="DEFAULT_JSONP_HANDLER" id="DEFAULT_JSONP_HANDLER" onblur="check(this)"><br />
<label for="DEFAULT_FILTER" class="DEFAULT_FILTER">默认变量过滤函数</label><input type="text" name="DEFAULT_FILTER" id="DEFAULT_FILTER" onblur="check(this)" ><br>
<!--分组配置-->
    <label for="APP_GROUP_LIST" class="APP_GROUP_LIST">分组列表</label><input type="text" name="APP_GROUP_LIST" id="APP_GROUP_LIST" onblur="check(this)"><br>
    <label for="DEFAULT_GROUP" class="DEFAULT_GROUP">默认分组</label><input type="text" name="DEFAULT_GROUP" id="DEFAULT_GROUP" onblur="check(this)"><br />
    <label for="APP_GROUP_MODE" class="APP_GROUP_MODE">分组模式</label>
    <select name="APP_GROUP_MODE" id="APP_GROUP_MODE">
        <option value="">普通分组</option>
        <option value="1">独立分组</option>
    </select><br />
    <label for="APP_GROUP_PATH" class="APP_GROUP_PATH">独立分组目录名</label><input type="text" name="APP_GROUP_PATH" id="APP_GROUP_PATH" onblur="check(this)"><br />
<!--URL配置-->
<fieldset><label for="URL_CASE_INSENSITIVE" class="URL_CASE_INSENSITIVE">URL不区分大小写</label>
    <select name="URL_CASE_INSENSITIVE" id="URL_CASE_INSENSITIVE">
        <option value="">false</option>
        <option value="true">true</option>
    </select><br />
    <label for="URL_PARAMS_BIND" class="URL_PARAMS_BIND">URL变量绑定到Action方法参数</label>
    <select name="URL_PARAMS_BIND" id="URL_PARAMS_BIND">
        <option value="">true</option>
        <option value="false">false</option>
    </select><br />

    <label for="URL_MODEL" class="URL_MODEL">URL模式</label><select name="URL_MODEL" id="URL_MODEL">
        <option value="">pathinfo模式</option>
        <option value="3">兼容模式</option>
        <option value="0">普通模式</option>
        <option value="2">rewrite模式</option>
    </select><br>
    <label for="URL_PATHINFO_DEPR" class="URL_PATHINFO_DEPR">pathinfo分割符</label><select name="URL_PATHINFO_DEPR" id="URL_PATHINFO_DEPR">
        <option value="">/</option>
        <option value="-">-</option>
        <option value="~">~</option>
        <option value="_">_</option>
    </select><br>
    <label for="URL_HTML_SUFFIX" class="URL_HTML_SUFFIX">pathinfo伪静态后缀</label><input type="text" name="URL_HTML_SUFFIX" id="URL_HTML_SUFFIX" onblur="check(this)"><br />
    <label for="URL_404_REDIRECT" class="URL_404_REDIRECT">404页面</label><input type="text" name="URL_404_REDIRECT" id="URL_404_REDIRECT" onblur="check(this)"><br /></fieldset>
<fieldset>
<label for="URL_ROUTER_ON" class="URL_ROUTER_ON">开启URL路由</label>
<select name="URL_ROUTER_ON" id="URL_ROUTER_ON">
    <option value="">false</option>
    <option value="true">true</option>
</select><br />

    <fieldset id="URL_ROUTE_RULES">
        <legend>路由规则</legend>
        <span>匹配规则   </span><span>转换目标</span><input type="button" value="新增" class="URL_ROUTE_RULES" onclick="addRow(this)"><br />
        <div class="URL_ROUTE_RULES">
            <input type="text" name="URL_ROUTE_RULES[k1]" class="URL_ROUTE_RULES" onblur="check(this);updateid(this)" onkeyup="updateid(this)"><input type="text" name="URL_ROUTE_RULES[v1]" class="URL_ROUTE_RULES" onblur="check(this)"><br />
        </div>
    </fieldset>


</fieldset>

<!--DB配置-->
<fieldset>  <label for="DB_TYPE" class="DB_TYPE">数据库类型</label><input type="text" name="DB_TYPE" id="DB_TYPE" onblur="check(this)"><br />
    <label for="DB_HOST" class="DB_HOST">数据库主机</label><input type="text" name="DB_HOST" id="DB_HOST" onblur="check(this)"><br />
    <label for="DB_NAME" class="DB_NAME">数据库名</label><input type="text" name="DB_NAME" id="DB_NAME" onblur="check(this)"><br />
    <label for="DB_USER" class="DB_USER">数据库用户名</label><input type="text" name="DB_USER" id="DB_USER" onblur="check(this)"><br />
    <label for="DB_PWD" class="DB_PWD">数据库密码</label><input type="text" name="DB_PWD" id="DB_PWD" onblur="check(this)"><br />
    <label for="DB_PORT" class="DB_PORT">数据库端口</label><input type="text" name="DB_PORT" id="DB_PORT" onblur="check(this)"><br />
    <label for="DB_PREFIX" class="DB_PREFIX">数据表前缀</label><input type="text" name="DB_PREFIX" id="DB_PREFIX" onblur="check(this)"><br />
    <label for="DB_CHARSET" class="DB_CHARSET">数据库字符集</label><select name="DB_CHARSET" id="DB_CHARSET">
        <option value="">utf8</option>
        <option value="gb2312">gb2312</option>
        <option value="gbk">gbk</option>
        <option value="big5">big5</option>
        <option value="latin1">latin1</option>
    </select><br>
    <label for="DB_DEPLOY_TYPE" class="DB_DEPLOY_TYPE">数据库模式</label>
    <select name="DB_DEPLOY_TYPE" id="DB_DEPLOY_TYPE">
        <option value="">单服务器</option>
        <option value="1">主从模式</option>
    </select><br />
    <label for="DB_RW_SEPARATE" class="DB_RW_SEPARATE">主从读写分离</label>
    <select name="DB_RW_SEPARATE" id="DB_RW_SEPARATE">
        <option value="">false</option>
        <option value="true">true</option>
    </select><br>
    <label for="DB_MASTER_NUM" class="DB_MASTER_NUM">主服务器数量</label><input type="text" name="DB_MASTER_NUM" id="DB_MASTER_NUM" onblur="check(this)"><br />
    <label for="DB_SLAVE_NO" class="DB_SLAVE_NO">从服务器序号</label><input type="text" name="DB_SLAVE_NO" id="DB_SLAVE_NO" onblur="check(this)"><br />

    <label for="DB_LIKE_FIELDS" class="DB_LIKE_FIELDS">自动进行模糊查询的字段</label><input type="text" name="DB_LIKE_FIELDS" id="DB_LIKE_FIELDS" onblur="check(this)"><br>

    <label for="DB_SQL_BUILD_CACHE" class="DB_SQL_BUILD_CACHE">SQL语句缓存</label>
    <select name="DB_SQL_BUILD_CACHE" id="DB_SQL_BUILD_CACHE">
        <option value="">false</option>
        <option value="true">true</option>
    </select><br>
    <label for="DB_SQL_BUILD_QUEUE" class="DB_SQL_BUILD_QUEUE">SQL语句缓存方式</label><select name="DB_SQL_BUILD_QUEUE" id="DB_SQL_BUILD_QUEUE">
    <option value="">file</option>
    <option value="xcache">xcache</option>
    <option value="apc">apc</option>
    </select><br>
    <label for="DB_SQL_BUILD_LENGTH" class="DB_SQL_BUILD_LENGTH">SQL语句缓存队列长度</label><input type="text" name="DB_SQL_BUILD_LENGTH" id="DB_SQL_BUILD_LENGTH" onblur="check(this)"><br />
    <label for="DB_SQL_LOG" class="DB_SQL_LOG">SL执行日志</label>
    <select name="DB_SQL_LOG" id="DB_SQL_LOG">
        <option value="">false</option>
        <option value="true">true</option>
    </select><br>

    <label for="DB_FIELDTYPE_CHECK" class="DB_FIELDTYPE_CHECK">自动字段类型检查</label>
    <select name="DB_FIELDTYPE_CHECK" id="DB_FIELDTYPE_CHECK">
        <option value="">false</option>
        <option value="true">true</option>
    </select><br>
    <label for="DB_FIELDS_CACHE" class="DB_FIELDS_CACHE">开启字段缓存</label>
    <select name="DB_FIELDS_CACHE" id="DB_FIELDS_CACHE">
        <option value="">true</option>
        <option value="false">false</option>
    </select><br>
</fieldset>

<!--缓存配置-->
<fieldset> <label for="DATA_CACHE_TIME" class="DATA_CACHE_TIME">缓存有效期</label><input type="text" name="DATA_CACHE_TIME" id="DATA_CACHE_TIME" onblur="check(this)"><br />
    <label for="DATA_CACHE_PREFIX" class="DATA_CACHE_PREFIX">缓存前缀</label><input type="text" name="DATA_CACHE_PREFIX" id="DATA_CACHE_PREFIX" onblur="check(this)"><br />
    <label for="DATA_CACHE_TYPE" class="DATA_CACHE_TYPE">缓存类型</label><select name="DATA_CACHE_TYPE" id="DATA_CACHE_TYPE">
        <option value="">File</option>
        <option value="Db">Db</option>
        <option value="Apc">Apc</option>
        <option value="Memcache">Memcache</option>
        <option value="Shmop">Shmop</option>
        <option value="Sqlite">Sqlite</option>
        <option value="Xcache">Xcache</option>
        <option value="Apachenote">Apachenote</option>
        <option value="Eaccelerator">Eaccelerator</option>
    </select><br>

    <label for="DATA_CACHE_COMPRESS" class="DATA_CACHE_COMPRESS">数据缓存是否压缩</label>
    <select name="DATA_CACHE_COMPRESS" id="DATA_CACHE_COMPRESS">
        <option value="">false</option>
        <option value="true">true</option>
    </select><br>
    <label for="DATA_CACHE_CHECK" class="DATA_CACHE_CHECK">数据缓存是否校验</label>
    <select name="DATA_CACHE_CHECK" id="DATA_CACHE_CHECK">
        <option value="">false</option>
        <option value="true">true</option>
    </select><br>
    <label for="DATA_CACHE_SUBDIR" class="DATA_CACHE_SUBDIR">数据缓存使用子目录</label>
    <select name="DATA_CACHE_SUBDIR" id="DATA_CACHE_SUBDIR">
        <option value="">false</option>
        <option value="true">true</option>
    </select><br />
    <label for="DATA_PATH_LEVEL" class="DATA_PATH_LEVEL">子目录缓存深度</label><input type="text" name="DATA_PATH_LEVEL" id="DATA_PATH_LEVEL" onblur="check(this)"><br /></fieldset>
<!--trace配置-->
<label for="SHOW_PAGE_TRACE" class="SHOW_PAGE_TRACE">是否显示trace信息</label>
<select name="SHOW_PAGE_TRACE" id="SHOW_PAGE_TRACE">
    <option value="">false</option>
    <option value="true">true</option>
</select><br />
<label for="TMPL_TRACE_FILE" class="TMPL_TRACE_FILE">Trace信息模板</label><input type="text" name="TMPL_TRACE_FILE" id="TMPL_TRACE_FILE" onblur="check(this)"><br />
<label for="SHOW_RUN_TIME" class="SHOW_RUN_TIME">显示运行时间</label>
<select name="SHOW_RUN_TIME" id="SHOW_RUN_TIME">
    <option value="">false</option>
    <option value="true">true</option>
</select><br />
<label for="SHOW_ADV_TIME" class="SHOW_ADV_TIME">显示详细的运行时间</label>
<select name="SHOW_ADV_TIME" id="SHOW_ADV_TIME">
    <option value="">false</option>
    <option value="true">true</option>
</select><br />
<label for="SHOW_DB_TIMES" class="SHOW_DB_TIMES">显示数据库读写次数</label>
<select name="SHOW_DB_TIMES" id="SHOW_DB_TIMES">
    <option value="">false</option>
    <option value="true">true</option>
</select><br />
<label for="SHOW_CACHE_TIMES" class="SHOW_CACHE_TIMES">显示缓存操作次数</label>
<select name="SHOW_CACHE_TIMES" id="SHOW_CACHE_TIMES">
    <option value="">false</option>
    <option value="true">true</option>
</select><br />
<label for="SHOW_USE_MEM" class="SHOW_USE_MEM">显示内存开销</label>
<select name="SHOW_USE_MEM" id="SHOW_USE_MEM">
    <option value="">false</option>
    <option value="true">true</option>
</select><br />
<label for="SHOW_LOAD_FILE" class="SHOW_LOAD_FILE">显示文件加载数量</label>
<select name="SHOW_LOAD_FILE" id="SHOW_LOAD_FILE">
    <option value="">false</option>
    <option value="true">true</option>
</select><br />
<label for="SHOW_FUN_TIMES" class="SHOW_FUN_TIMES">显示函数调用次数</label>
<select name="SHOW_FUN_TIMES" id="SHOW_FUN_TIMES">
    <option value="">false</option>
    <option value="true">true</option>
</select><br />

<!--错误和日志配置-->
<fieldset><label for="ERROR_MESSAGE" class="ERROR_MESSAGE">默认错误信息</label><input type="text" name="ERROR_MESSAGE" id="ERROR_MESSAGE" onblur="check(this)"><br />
    <label for="ERROR_PAGE" class="ERROR_PAGE">错误重定向页面</label><input type="text" name="ERROR_PAGE" id="ERROR_PAGE" onblur="check(this)"><br />

    <label for="SHOW_ERROR_MSG" class="SHOW_ERROR_MSG">显示错误信息</label>
    <select name="SHOW_ERROR_MSG" id="SHOW_ERROR_MSG">
        <option value="">false</option>
        <option value="true">true</option>
    </select><br />
    <label for="TRACE_EXCEPTION" class="TRACE_EXCEPTION">trace信息是否抛出异常</label>
    <select name="TRACE_EXCEPTION" id="TRACE_EXCEPTION">
        <option value="">false</option>
        <option value="true">true</option>
    </select><br />
    <label for="LOG_RECORD" class="LOG_RECORD">是否开启日志记录</label>
    <select name="LOG_RECORD" id="LOG_RECORD">
        <option value="">false</option>
        <option value="true">true</option>
    </select><br />
    <label for="LOG_TYPE" class="LOG_TYPE">日志记录类型</label><select name="LOG_TYPE" id="LOG_TYPE">
    <option value="">文件</option>
    <option value="0">系统</option>
    <option value="1">邮件</option>
    <option value="4">SAPI</option>
    </select><br>
    <label for="LOG_DEST" class="LOG_DEST">日志记录目标</label><input type="text" name="LOG_DEST" id="LOG_DEST"><br />
    <label for="LOG_EXTRA" class="LOG_EXTRA">日记记录额外信息</label><input type="text" name="LOG_EXTRA" id="LOG_EXTRA"><br />
    <label for="LOG_LEVEL" class="LOG_LEVEL">日志记录级别</label><input type="text" name="LOG_LEVEL" id="LOG_LEVEL" onblur="check(this)"><br />
    <label for="LOG_FILE_SIZE" class="LOG_FILE_SIZE">日志文件最大值</label><input type="text" name="LOG_FILE_SIZE" id="LOG_FILE_SIZE" onblur="check(this)"><br />

    <label for="LOG_EXCEPTION_RECORD" class="LOG_EXCEPTION_RECORD">是否记录异常信息日志</label>
    <select name="LOG_EXCEPTION_RECORD" id="LOG_EXCEPTION_RECORD">
        <option value="">false</option>
        <option value="true">true</option>
    </select><br /></fieldset>
<!--session配置-->
<fieldset>

    <label for="SESSION_AUTO_START" class="SESSION_AUTO_START">是否自动开启session</label>
    <select name="SESSION_AUTO_START" id="SESSION_AUTO_START">
        <option value="">默认</option>
        <option value="true">true</option>
        <option value="false">false</option>
    </select><br />

    <fieldset id="SESSION_OPTIONS">
        <legend>SESSION配置</legend>

        <!--<span>属性   </span><span>值</span><input type="button" value="新增" class="SESSION_OPTIONS" onclick="addRow(this)"><br />-->

        <!--<div class="SESSION_OPTIONS">-->
            <!--<input type="text" name="LOAD_EXT_CONFIG[k1]" class="LOAD_EXT_CONFIG" onblur="check(this)">-->
            <!--<input type="text" name="LOAD_EXT_CONFIG[v1]" class="LOAD_EXT_CONFIG" onblur="check(this)"><br />-->
        <!--</div>-->

        <label for="SESSION_OPTIONS_id" class="SESSION_OPTIONS">id</label><input type="text" name="SESSION_OPTIONS[id]" id="SESSION_OPTIONS_id"
                                                                                 onblur="check(this)"><br />
        <label for="SESSION_OPTIONS_name" class="SESSION_OPTIONS_name">name</label><input type="text" name="SESSION_OPTIONS[name]" id="SESSION_OPTIONS_name" onblur="check(this)"><br />
        <label for="SESSION_OPTIONS_expire" class="SESSION_OPTIONS_expire">expire</label><input type="text" name="SESSION_OPTIONS[expire]" id="SESSION_OPTIONS_expire"
                                                                                            onblur="check(this)"><br />
        <label for="SESSION_OPTIONS_path" class="SESSION_OPTIONS_path">path</label><input type="text" name="SESSION_OPTIONS[path]" id="SESSION_OPTIONS_path" onblur="check(this)"><br />
        <label for="SESSION_OPTIONS_prefix" class="SESSION_OPTIONS_prefix">prefix</label><input type="text" name="SESSION_OPTIONS[prefix]" id="SESSION_OPTIONS_prefix"
                                                                                             onblur="check(this)"><br />
        <label for="SESSION_OPTIONS_domain" class="SESSION_OPTIONS_domain">domain</label><input type="text" name="SESSION_OPTIONS[domain]" id="SESSION_OPTIONS_domain"
                                                                                            onblur="check(this)"><br />
        <label for="SESSION_OPTIONS_cache_expire" class="SESSION_OPTIONS_cache_expire">cache_expire</label><input type="text" name="SESSION_OPTIONS[cache_expire]" id="SESSION_OPTIONS_cache_expire"
                                                                                                        onblur="check(this)"><br />
        <label for="SESSION_OPTIONS_cache_limiter" class="SESSION_OPTIONS_cache_limiter">cache_limiter</label><select name="SESSION_OPTIONS[cache_limiter]" id="SESSION_OPTIONS_cache_limiter">
        <option value="">默认</option>
        <option value="nocache">nocache</option>
        <option value="public">public</option>
        <option value="private_no_expire">private_no_expire</option>
        <option value="private">private</option>
        </select><br>
        <label for="SESSION_OPTIONS_co" class="SESSION_OPTIONS_co">use_cookies</label>
        <select name="SESSION_OPTIONS[use_cookies]" id="SESSION_OPTIONS_co">
            <option value="">默认</option>
            <option value="1">强制为是</option>
            <option value="0">强制为否</option>
        </select><br />
        <label for="SESSION_OPTIONS_sid" class="SESSION_OPTIONS_sid">use_trans_sid</label>
        <select name="SESSION_OPTIONS[use_trans_sid]" id="SESSION_OPTIONS_sid">
            <option value="">默认</option>
            <option value="0">强制为否</option>
            <option value="1">强制为是</option>
        </select><br />
        <label for="SESSION_OPTIONS_type" class="SESSION_OPTIONS_type">type</label><input type="text" name="SESSION_OPTIONS[type]" id="SESSION_OPTIONS_type" onblur="check(this)"><br />
    </fieldset>
    <label for="SESSION_PREFIX" class="SESSION_PREFIX">session前缀</label><input type="text" name="SESSION_PREFIX" id="SESSION_PREFIX" onblur="check(this)"><br />
    <label for="SESSION_TYPE" class="SESSION_TYPE">SESSION Handler</label><input type="text" name="SESSION_TYPE" id="SESSION_TYPE" onblur="check(this)"><br />

</fieldset>



<!--视图配置-->
<fieldset>
    <label for="TMPL_CONTENT_TYPE" class="TMPL_CONTENT_TYPE">模板输出MIME类型</label><input type="text" name="TMPL_CONTENT_TYPE" id="TMPL_CONTENT_TYPE"
                                                            onblur="check(this)"><br />
    <label for="TMPL_TEMPLATE_SUFFIX" class="TMPL_TEMPLATE_SUFFIX">模板文件后缀</label><input type="text" name="TMPL_TEMPLATE_SUFFIX" id="TMPL_TEMPLATE_SUFFIX"
                                                           onblur="check(this)"><br />
    <label for="TMPL_DETECT_THEME" class="TMPL_DETECT_THEME">自动侦测模板主题</label>
    <select name="TMPL_DETECT_THEME" id="TMPL_DETECT_THEME">
        <option value="">false</option>
        <option value="true">true</option>
    </select><br />
    <label for="TMPL_FILE_DEPR" class="TMPL_FILE_DEPR">模板文件分隔符</label><select name="TMPL_FILE_DEPR" id="TMPL_FILE_DEPR">
    <option value="">/</option>
    <option value="-">-</option>
    <option value="_">_</option>
    <option value="~">~</option>
</select><br>

    <fieldset id="TMPL_PARSE_STRING">
        <legend>模板内容替换</legend>
        <span>KEY   </span><span>VALUE</span><input type="button" value="新增" class="TMPL_PARSE_STRING" onclick="addRow(this)"><br />
        <div class="TMPL_PARSE_STRING">
            <input type="text" name="TMPL_PARSE_STRING[k1]" class="TMPL_PARSE_STRING" onblur="check(this);updateid(this)" onkeyup="updateid(this)"><input type="text" name="TMPL_PARSE_STRING[v1]" class="TMPL_PARSE_STRING"><br />
        </div>

    </fieldset>

    <label for="TMPL_ACTION_ERROR" class="TMPL_ACTION_ERROR">错误跳转页面模板</label><input type="text" name="TMPL_ACTION_ERROR" id="TMPL_ACTION_ERROR"
                                                          onblur="check(this)"><br />
    <label for="TMPL_ACTION_SUCCESS" class="TMPL_ACTION_SUCCESS">成功跳转页面模板</label><input type="text" name="TMPL_ACTION_SUCCESS" id="TMPL_ACTION_SUCCESS"
                                                            onblur="check(this)"><br />
    <label for="TMPL_EXCEPTION_FILE" class="TMPL_EXCEPTION_FILE">异常页面模板</label><input type="text" name="TMPL_EXCEPTION_FILE" id="TMPL_EXCEPTION_FILE"
                                                          onblur="check(this)"><br />
<!--    <label for="TMPL_ENGINE_TYPE" class="TMPL_ENGINE_TYPE">模板引擎</label><select name="TMPL_ENGINE_TYPE" id="TMPL_ENGINE_TYPE">
    <option value="">Think引擎</option>
    <option value="Smarty">Smarty</option>
</select><br>
    <fieldset id="TMPL_ENGINE_CONFIG">
        <legend>Smarty模板引擎配置</legend>
        <span>属性   </span><span>值</span><input type="button" value="新增" class="TMPL_ENGINE_CONFIG" onclick="addRow(this)"><br />

        <div class="TMPL_ENGINE_CONFIG">
            <input type="text" name="TMPL_ENGINE_CONFIG[k1]" class="TMPL_ENGINE_CONFIG" onblur="check(this);updateid(this)" onfocus="clearid(this)">
            <input type="text" name="TMPL_ENGINE_CONFIG[v1]" class="TMPL_ENGINE_CONFIG"><br />
        </div>
    </fieldset>-->
</fieldset>


<!--Think引擎配置-->
<label for="TMPL_CACHFILE_SUFFIX" class="TMPL_CACHFILE_SUFFIX">模板缓存后缀</label><input type="text" name="TMPL_CACHFILE_SUFFIX" id="TMPL_CACHFILE_SUFFIX" onblur="check(this)"><br />
    <label for="TMPL_DENY_FUNC_LIST" class="TMPL_DENY_FUNC_LIST">模板引擎禁用函数</label><input type="text" name="TMPL_DENY_FUNC_LIST" id="TMPL_DENY_FUNC_LIST" onblur="check(this)"><br>
    <label for="TMPL_DENY_PHP" class="TMPL_DENY_PHP">模板是否禁用原生PHP代码</label>
    <select name="TMPL_DENY_PHP" id="TMPL_DENY_PHP">
        <option value="">false</option>
        <option value="true">true</option>
    </select><br />
<label for="TMPL_L_DELIM" class="TMPL_L_DELIM">模板标签左符号</label><input type="text" name="TMPL_L_DELIM" id="TMPL_L_DELIM" onblur="check(this)"><br />
<label for="TMPL_R_DELIM" class="TMPL_R_DELIM">模板标签右符号</label><input type="text" name="TMPL_R_DELIM" id="TMPL_R_DELIM" onblur="check(this)"><br />
    <label for="TMPL_STRIP_SPACE" class="TMPL_STRIP_SPACE">去除模板中多余的空白和换行</label>
    <select name="TMPL_STRIP_SPACE" id="TMPL_STRIP_SPACE">
        <option value="">true</option>
        <option value="false">false</option>
    </select><br />
    <label for="TMPL_CACHE_ON" class="TMPL_CACHE_ON">开启模板编译缓存</label>
    <select name="TMPL_CACHE_ON" id="TMPL_CACHE_ON">
        <option value="">true</option>
        <option value="false">false</option>
    </select><br />
<label for="TMPL_CACHE_PREFIX" class="TMPL_CACHE_PREFIX">模板缓存前缀</label><input type="text" name="TMPL_CACHE_PREFIX" id="TMPL_CACHE_PREFIX" onblur="check(this)"><br />
<label for="TMPL_CACHE_TIME" class="TMPL_CACHE_TIME">模板缓存有效期</label><input type="text" name="TMPL_CACHE_TIME" id="TMPL_CACHE_TIME" onblur="check(this)"><br />

<label for="TMPL_VAR_IDENTIFY" class="TMPL_VAR_IDENTIFY">模板变量点语法</label><select name="TMPL_VAR_IDENTIFY" id="TMPL_VAR_IDENTIFY">
    <option value="">自动判断</option>
    <option value="array">适用array</option>
    <option value="obj">适用obj</option>
</select><br>
    <label for="LAYOUT_ON" class="LAYOUT_ON">开启模板布局</label>
    <select name="LAYOUT_ON" id="LAYOUT_ON">
        <option value="">true</option>
        <option value="false">false</option>
    </select><br />
    <label for="LAYOUT_NAME" class="LAYOUT_NAME">默认布局名称</label><input type="text" name="LAYOUT_NAME" id="LAYOUT_NAME" onblur="check(this)"><br />
    <label for="TMPL_LAYOUT_ITEM" class="TMPL_LAYOUT_ITEM">布局模板的内容替换标识</label><input type="text" name="TMPL_LAYOUT_ITEM" id="TMPL_LAYOUT_ITEM" onblur="check(this)"><br />
    <label for="TAGLIB_BUILD_IN" class="TAGLIB_BUILD_IN">内置标签库名称列表</label><input type="text" name="TAGLIB_BUILD_IN" id="TAGLIB_BUILD_IN" onblur="check(this)"><br>
    <label for="TAGLIB_PRE_LOAD" class="TAGLIB_PRE_LOAD">其他标签库</label><input type="text" name="TAGLIB_PRE_LOAD" id="TAGLIB_PRE_LOAD" onblur="check(this)"><br />
    <label for="TAGLIB_BEGIN" class="TAGLIB_BEGIN">标签起始符</label><input type="text" name="TAGLIB_BEGIN" id="TAGLIB_BEGIN" onblur="check(this)"><br />
    <label for="TAGLIB_END" class="TAGLIB_END">标签结束符</label><input type="text" name="TAGLIB_END" id="TAGLIB_END" onblur="check(this)"><br />
    <label for="TAGLIB_LOAD" class="TAGLIB_LOAD">是否使用内置标签库以外的标签库</label>
    <select name="TAGLIB_LOAD" id="TAGLIB_LOAD">
        <option value="">true</option>
        <option value="false">false</option>
    </select><br />
<!--其他-->
    <label for="HTTP_CACHE_CONTROL" class="HTTP_CACHE_CONTROL">页面缓存设置</label>
    <select name="HTTP_CACHE_CONTROL" id="HTTP_CACHE_CONTROL">
        <option value="">private</option>
        <option value="no-cache">no-cache</option>
        <option value="must-revalidate">must-revalidate</option>
        <option value="max-age">max-age</option>
        <option value="min-fresh">min-fresh</option>
        <option value="max-stale">max-stale</option>
        <option value="no-store">no-store</option>
    </select><br>
    <label for="OUTPUT_ENCODE" class="OUTPUT_ENCODE">页面压缩输出</label>
    <select name="OUTPUT_ENCODE" id="OUTPUT_ENCODE">
        <option value="">true</option>
        <option value="false">false</option>
    </select><br />
    <label for="VAR_FILTERS" class="VAR_FILTERS">全局系统变量过滤函数</label><input type="text" name="VAR_FILTERS" id="VAR_FILTERS" onblur="check(this)"><br>
    <label for="VAR_AJAX_SUBMIT" class="VAR_AJAX_SUBMIT">默认ajax提交变量</label><input type="text" name="VAR_AJAX_SUBMIT" id="VAR_AJAX_SUBMIT" onblur="check(this)"><br />
    <label for="VAR_JSONP_HANDLER" class="VAR_JSONP_HANDLER">jsoNP</label><input type="text" name="VAR_JSONP_HANDLER" id="VAR_JSONP_HANDLER" onblur="check(this)"><br />
<!--ReadHtmlCacheBehavior-->
<label for="HTML_CACHE_ON" class="HTML_CACHE_ON">HTML_CACHE_ON</label>
<select name="HTML_CACHE_ON" id="HTML_CACHE_ON">
    <option value="">false</option>
    <option value="true">true</option>
</select><br />
<label for="HTML_FILE_SUFFIX" class="HTML_FILE_SUFFIX">HTML_FILE_SUFFIX</label><input type="text" name="HTML_FILE_SUFFIX" id="HTML_FILE_SUFFIX" onblur="check(this)"><br />
<label for="HTML_CACHE_TIME" class="HTML_CACHE_TIME">HTML_CACHE_TIME</label><input type="text" name="HTML_CACHE_TIME" id="HTML_CACHE_TIME" onblur="check(this)"><br />
<!--HTML_CACHE_RULES 二维数组-->

<!--TOKEN-->
<label for="TOKEN_ON" class="TOKEN_ON">开启token</label>
<select name="TOKEN_ON" id="TOKEN_ON">
    <option value="">false</option>
    <option value="true">true</option>
</select><br />
<label for="TOKEN_RESET" class="TOKEN_RESET">令牌错误后是否重置</label>
<select name="TOKEN_RESET" id="TOKEN_RESET">
    <option value="">true</option>
    <option value="false">false</option>
</select><br />
<label for="TOKEN_TYPE" class="TOKEN_TYPE">令牌生成函数</label><input type="text" name="TOKEN_TYPE" id="TOKEN_TYPE" onblur="check(this)"><br />
<label for="TOKEN_NAME" class="TOKEN_NAME">表单隐藏字段名称</label><input type="text" name="TOKEN_NAME" id="TOKEN_NAME" onblur="check(this)"><br />
<label for="LOAD_EXT_FILE">自动载入函数文件</label><input type="text" name="LOAD_EXT_FILE" id="LOAD_EXT_FILE" onblur="check(this)"><br />
<fieldset id="LOAD_EXT_CONFIG">
    <legend>动态载入配置文件</legend>
    <span>KEY   </span><span>文件名</span><input type="button" value="新增" class="LOAD_EXT_CONFIG" onclick="addRow(this)"><br />

    <div class="LOAD_EXT_CONFIG">
        <input type="text" name="LOAD_EXT_CONFIG[k1]" class="LOAD_EXT_CONFIG" onblur="check(this);updateid(this)" onkeyup="updateid(this)" >
        <input type="text" name="LOAD_EXT_CONFIG[v1]" class="LOAD_EXT_CONFIG" onblur="check(this)"><br />
    </div>
</fieldset>
    <input type="submit" value="提交">
</form>
</body>
</html>